% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/harmonize_data.R
\name{harmonize_data}
\alias{harmonize_data}
\title{Harmonizes inconsistent labels or entities by mapping aliases to a target value.
Useful for cleaning up country names (e.g., mapping "Belgium", "Luxembourg", "Netherlands" -> "Benelux")
or grouping entities into broader categories.}
\usage{
harmonize_data(
  df,
  maps = list(),
  along = "label",
  regex = FALSE,
  case_insensitive = TRUE,
  out_col = "new_label",
  conflict = c("last_wins", "first_wins")
)
}
\arguments{
\item{df}{Data frame containing at least the column specified in \code{along}.}

\item{maps}{A named list where names are the target labels and values are character vectors
of aliases or patterns to match (e.g., \code{list("Benelux" = c("Belgium", "Luxembourg", "Netherlands"))}).}

\item{along}{Name of the column to search for matches (e.g., "label", "word", "clean_label"). Default: "label".}

\item{regex}{Logical; if TRUE, aliases in \code{maps} are treated as regular expressions.}

\item{case_insensitive}{Logical; if TRUE, matching ignores case differences.}

\item{out_col}{Name of the output column to store the harmonized labels. Default: "new_label". If set to the same name as an existing column, it will be overwritten.}

\item{conflict}{Strategy to resolve multiple matches per row:
"last_wins" (the last match in \code{maps} overwrites previous ones) or
"first_wins" (the first match is kept).}
}
\value{
A data frame with the added or updated column \code{out_col}.
Values not matched in \code{maps} retain their original value from the \code{label} column
(or \code{along} column if used as fallback).
}
\description{
Harmonizes inconsistent labels or entities by mapping aliases to a target value.
Useful for cleaning up country names (e.g., mapping "Belgium", "Luxembourg", "Netherlands" -> "Benelux")
or grouping entities into broader categories.
}
